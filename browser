#!/bin/bash

SELF="`basename -- "$0"`"

self () {
	case "$SELF" in
	web|browser)
		echo "${BROWSER:-safari}"
		;;
	*)
		echo "$SELF"
		;;
	esac
}

usage () {
	echo "Usage: $SELF URL ..." >&2
	echo "   or: HTML | $SELF" >&2
	exit 255
}

if [[ $# -eq 0 ]]; then
	if test -t 0; then
		usage
	else
		open -a "`self`" "`to_tmp`"
	fi
else
	open -a "`self`" "$@"
fi
